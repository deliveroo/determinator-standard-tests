[
  {
    "section": "Basic GUID bucketing functionality",
    "examples": [
      {
        "why": "GUID bucketed, full rollout features should be on for any GUID",
        "feature": "feature_flags/simple/full_rollout_guid.json",
        "id": null,
        "guid": "5b189db0-dc19-4b0f-b06e-68e7ffa2e5b8",
        "properties": {},
        "returns": true
      },{
        "why": "GUID bucketed, full rollout features should fail when no GUID given",
        "feature": "feature_flags/simple/full_rollout_guid.json",
        "id": "whatever",
        "guid": null,
        "properties": {},
        "error": true
      }
    ]
  },{
    "section": "Basic ID bucketing functionality",
    "examples": [
      {
        "why": "ID bucketed, full rollout features should be on for any ID",
        "feature": "feature_flags/simple/full_rollout_id.json",
        "id": "10321",
        "guid": null,
        "properties": {},
        "returns": true
      },{
        "why": "ID bucketed, full rollout features should be off when no ID given",
        "feature": "feature_flags/simple/full_rollout_id.json",
        "id": null,
        "guid": "whatever",
        "properties": {},
        "returns": false
      },{
        "why": "IDs can be integers as well as strings",
        "feature": "feature_flags/simple/full_rollout_id.json",
        "id": "10321",
        "guid": null,
        "properties": {},
        "returns": true
      }
    ]
  },{
    "section": "Basic Fallback bucketing functionality",
    "examples": [
      {
        "why": "Fallback bucketed, full rollout features should be on for any ID",
        "feature": "feature_flags/simple/full_rollout_fallback.json",
        "id": "10321",
        "guid": null,
        "properties": {},
        "returns": true
      },{
        "why": "Fallback bucketed, full rollout features should be on for any GUID",
        "feature": "feature_flags/simple/full_rollout_fallback.json",
        "id": "54888",
        "guid": null,
        "properties": {},
        "returns": true
      },{
        "why": "Fallback bucketed, full rollout features should fail when no ID or GUID given",
        "feature": "feature_flags/simple/full_rollout_fallback.json",
        "id": null,
        "guid": null,
        "properties": {},
        "error": true
      }
    ]
  },{
    "section": "Basic Single bucketing functionality",
    "examples": [
      {
        "why": "Single bucketed, full rollout features should be on for any ID or GUID",
        "feature": "feature_flags/simple/full_rollout_single.json",
        "id": "10321",
        "guid": "5b189db0-dc19-4b0f-b06e-68e7ffa2e5b8",
        "properties": {},
        "returns": true
      },{
        "why": "Single bucketed, zero rollout features should be off for any ID or GUID",
        "feature": "feature_flags/simple/zero_rollout_single.json",
        "id": "54888",
        "guid": "d641e1bb-652c-4bb1-a54f-e18b6c1a9746",
        "properties": {},
        "returns": false
      },{
        "why": "Single bucketed, full rollout features should be on when no ID or GUID given",
        "feature": "feature_flags/simple/full_rollout_single.json",
        "id": null,
        "guid": null,
        "properties": {},
        "returns": true
      },{
        "why": "Single bucketed, zero rollout features should be off when no ID or GUID given",
        "feature": "feature_flags/simple/zero_rollout_single.json",
        "id": null,
        "guid": null,
        "properties": {},
        "returns": false
      }
    ]
  },{
    "section": "Basic determination functionality",
    "examples": [
      {
        "why": "Each GUID has a rollout which just excludes it",
        "feature": "feature_flags/simple/32768_rollout.json",
        "id": null,
        "guid": "65464efc-9230-4ce7-bb12-ea3e01385bcd",
        "properties": {},
        "returns": false
      },{
        "why": "Each GUID has a rollout which just includes it",
        "feature": "feature_flags/simple/32769_rollout.json",
        "id": null,
        "guid": "65464efc-9230-4ce7-bb12-ea3e01385bcd",
        "properties": {},
        "returns": true
      },{
        "why": "Each ID has a rollout which just excludes it",
        "feature": "feature_flags/simple/32768_rollout.json",
        "id": "31467",
        "guid": null,
        "properties": {},
        "returns": false
      },{
        "why": "Each ID has a rollout which just includes it",
        "feature": "feature_flags/simple/32769_rollout.json",
        "id": "31467",
        "guid": null,
        "properties": {},
        "returns": true
      }
    ]
  },{
    "section": "Target group functionality",
    "examples": [
    {
        "why": "A feature is rolled out if a target group's contraints are met by the given properties",
        "feature": "feature_flags/target_groups/high_low_spread_constraints.json",
        "id": "10321",
        "guid": "5b189db0-dc19-4b0f-b06e-68e7ffa2e5b8",
        "properties": {
            "group_a": ["true"]
        },
        "returns": true
      },{
        "why": "A feature is not rolled out to the extent specified by a target group whose contraints are not met by the given properties",
        "feature": "feature_flags/target_groups/high_low_spread_constraints.json",
        "id": "10321",
        "guid": "5b189db0-dc19-4b0f-b06e-68e7ffa2e5b8",
        "properties": {
            "group_b": ["true"]
        },
        "returns": false
      },{
        "why": "When the actor's properties match two taget groups, the feature is on when their indicator includes them in either rollout",
        "feature": "feature_flags/target_groups/high_low_spread_constraints.json",
        "id": "54888",
        "guid": "d641e1bb-652c-4bb1-a54f-e18b6c1a9746",
        "properties": {
            "group_a": ["true"],
            "group_b": ["true"]
        },
        "returns": true
      }
    ]
  },{
    "section": "Malformed features",
    "examples": [
      {
        "why": "Features missing 'active' are assumed to be inactive",
        "feature": "feature_flags/malformed/missing_active.json",
        "id": "10321",
        "guid": "5b189db0-dc19-4b0f-b06e-68e7ffa2e5b8",
        "properties": {},
        "returns": false
      },{
        "why": "Features missing an 'identifier' use the 'name' as the identifier",
        "feature": "feature_flags/malformed/missing_identifier.json",
        "id": null,
        "guid": "d641e1bb-652c-4bb1-a54f-e18b6c1a9746",
        "properties": {},
        "returns": true
      },{
        "why": "Features without any target groups are always off",
        "feature": "feature_flags/malformed/no_target_group.json",
        "id": "10321",
        "guid": "5b189db0-dc19-4b0f-b06e-68e7ffa2e5b8",
        "properties": {},
        "returns": false
      },{
        "why": "Features with an unknown bucket type raise an error",
        "feature": "feature_flags/malformed/invalid_bucket_type.json",
        "id": "10321",
        "guid": "5b189db0-dc19-4b0f-b06e-68e7ffa2e5b8",
        "properties": {},
        "error": true
      },{
        "why": "Features with Target groups with invalid rollouts raise an error",
        "feature": "feature_flags/malformed/invalid_rollout.json",
        "id": "10321",
        "guid": "5b189db0-dc19-4b0f-b06e-68e7ffa2e5b8",
        "properties": {},
        "error": true
      },{
        "why": "Features with Target groups with invalid constraints raise an error",
        "feature": "feature_flags/malformed/invalid_target_group_constraints.json",
        "id": "10321",
        "guid": "5b189db0-dc19-4b0f-b06e-68e7ffa2e5b8",
        "properties": {},
        "error": true
      }
    ]
  }
]
